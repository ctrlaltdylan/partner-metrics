<%= polaris_layout do |layout| %>
  <% layout.with_section(one_half: true) do %>
    <%= polaris_card(title: "Users per plan and app (#{filter.period} days)") do %>
      <%= column_chart current_user.total_revenue_per_plan(
        date: filter.date,
        charge_type: filter.charge_type,
        period: filter.period,
        app_title: filter.app
        ), id: "revenue-per-plan-last-x-days" %>
    <% end %>
  <% end %>
  <% layout.with_section(one_half: true) do %>
    <%= polaris_card(title: "Users per plan and app (All time)") do %>
      <%= pie_chart current_user.total_revenue_per_plan(
        date: filter.date,
        charge_type: filter.charge_type,
        app_title: filter.app
        ), id: "revenue-per-plan" %>
    <% end %>
  <% end %>
<% end %>

<%= polaris_divider %>

<%= polaris_layout do |layout| %>
  <% layout.with_section(one_half: true) do %>
    <%= polaris_card(title: "Revenue per app (12 Months)") do %>
      <%= pie_chart current_user.yearly_revenue_per_product(charge_type: filter.charge_type, date: filter.date), id: "revenue-per-app" %>
    <% end %>
  <% end %>
  <% layout.with_section(one_half: true) do %>
    <%= polaris_card(title: "Revenue per country (12 Months)") do %>
      <%= pie_chart current_user.yearly_revenue_per_country(charge_type: filter.charge_type, date: filter.date), id: "revenue-per-country" %>
    <% end %>
  <% end %>
<% end %>

<%= polaris_layout do |layout| %>
  <% layout.with_section(one_half: true) do %>
    <%= polaris_card(title: "Revenue per app (12 Months)") do %>
      <%= column_chart current_user.yearly_revenue_per_product(charge_type: filter.charge_type, date: filter.date), id: "revenue-per-app-column" %>
    <% end %>
  <% end %>
  <% layout.with_section(one_half: true) do %>
    <%= polaris_card(title: "Revenue per app (All time)") do %>
      <%= column_chart current_user.total_revenue_per_app(charge_type: filter.charge_type, date: filter.date), id: "revenue-per-app-total" %>
    <% end %>
  <% end %>
<% end %>
