<%= polaris_page(
  title: t(".title"),
  subtitle: t(".subtitle")
) do |page| %>

  <%= render "shared/page_actions", page: page %>

  <% page.with_primary_action(url: new_import_path, disabled: @imports.in_progress.any?) { "New import" } %>

  <% if @imports.any? %>
    <%= render "table", imports: @imports %>

    <%= polaris_page_actions do |actions| %>
      <% actions.with_secondary_action(
        destructive: true,
        outline: true,
        url: destroy_all_imports_path,
        data: {
          turbo_method: :delete,
          turbo_confirm: t("imports.confirm_destroy")
        },
      ) { t("actions.delete_all", resource: resource_name_for(Import, true)) } %>
    <% end %>
  <% else %>
    <%= render "shared/empty_state", resource: Import %>
  <% end %>
<% end %>
