<%= form_tag(url_for(action: action_name), method: :get, data: {controller: "filters", action: "change->filters#submit"}) do %>

  <%= polaris_filters(classes: "filter-margin") do |filters| %>

    <% unless app_titles.blank? %>
      <% filters.with_item(label: selected_app.presence || "All apps", sectioned: false, style: "white-space: nowrap;") do %>
        <%= polaris_option_list(name: :selected_app) do |list| %>
          <% list.with_radio_button(
            label: "All apps",
            value: "",
            checked: selected_app == nil,
            data: {action: "filters#submit"}
          ) %>
          <% app_titles.each do |key| %>
            <% list.with_radio_button(
              label: key,
              value: key,
              checked: selected_app == key,
              data: {action: "filters#submit"}
            ) %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>

  <% end %>

<% end %>
