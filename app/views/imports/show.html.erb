<%= turbo_stream_from [current_user, :imports] %>

<%= polaris_page(
  narrow_width: true,
  title: t(".title"),
  subtitle: @import.created_at.to_fs(:long),
  id: dom_id(@import),
  back_url: imports_path,
) do |page| %>

  <% page.with_title_metadata do %>
    <%= render "shared/status", resource: @import %>
  <% end %>

  <%= render @import %>

  <%= polaris_page_actions do |actions| %>
    <% actions.with_secondary_action(
      destructive: true,
      outline: true,
      url: @import,
      data: {
        turbo_method: :delete,
        turbo_confirm: t("imports.confirm_destroy"),
      },
    ) { t("actions.delete", resource: resource_name_for(Import)) } %>
  <% end %>

<% end %>
<br>
<%= tag.div style: "width: 80%; height: 800px; margin: 0 auto; opacity: 0; transition: opacity 3s ease-in-out;",
    data: {
      controller: "globe",
      globe_target: "container",
      globe_fetch_url_value: import_globe_path(@import),
    } %>
